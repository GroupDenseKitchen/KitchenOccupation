<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Kitchen Occupation: statistics::QueDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="GDKmini.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kitchen Occupation
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">People counting using depth sensors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestatistics.html">statistics</a></li><li class="navelem"><a class="el" href="classstatistics_1_1_que_detector.html">QueDetector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstatistics_1_1_que_detector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">statistics::QueDetector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Process step which uses information about visible persons' position and velocity and determines if a que is present or not.  
 <a href="classstatistics_1_1_que_detector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_que_detector_8hpp_source.html">QueDetector.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for statistics::QueDetector:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classstatistics_1_1_que_detector.png" usemap="#statistics::QueDetector_map" alt=""/>
  <map id="statistics::QueDetector_map" name="statistics::QueDetector_map">
<area href="class_algorithm.html" title="Base class for pipeline algorithms. " alt="Algorithm" shape="rect" coords="0,0,137,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9d359b67a2158fad1425b70f3aa2dd23"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d359b67a2158fad1425b70f3aa2dd23"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstatistics_1_1_que_detector.html#a9d359b67a2158fad1425b70f3aa2dd23">QueDetector</a> ()</td></tr>
<tr class="memdesc:a9d359b67a2158fad1425b70f3aa2dd23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:a9d359b67a2158fad1425b70f3aa2dd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd4dbb5db6f007420db1c838324e35a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstatistics_1_1_que_detector.html#a9bd4dbb5db6f007420db1c838324e35a">initialize</a> (<a class="el" href="classconfiguration_1_1_configuration_manager.html">configuration::ConfigurationManager</a> &amp;settings)</td></tr>
<tr class="memdesc:a9bd4dbb5db6f007420db1c838324e35a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles initialization.  <a href="#a9bd4dbb5db6f007420db1c838324e35a">More...</a><br/></td></tr>
<tr class="separator:a9bd4dbb5db6f007420db1c838324e35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd712a54dd3eac7b699fd7a0448f4093"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstatistics_1_1_que_detector.html#abd712a54dd3eac7b699fd7a0448f4093">process</a> (<a class="el" href="class_frame_list.html">FrameList</a> &amp;frames)</td></tr>
<tr class="memdesc:abd712a54dd3eac7b699fd7a0448f4093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the algorithm.  <a href="#abd712a54dd3eac7b699fd7a0448f4093">More...</a><br/></td></tr>
<tr class="separator:abd712a54dd3eac7b699fd7a0448f4093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_algorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_algorithm')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_algorithm.html">Algorithm</a></td></tr>
<tr class="memitem:a472bdce2086324f49da7794e27ccaa54 inherit pub_methods_class_algorithm"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a472bdce2086324f49da7794e27ccaa54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#a472bdce2086324f49da7794e27ccaa54">Algorithm</a> ()</td></tr>
<tr class="memdesc:a472bdce2086324f49da7794e27ccaa54 inherit pub_methods_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:a472bdce2086324f49da7794e27ccaa54 inherit pub_methods_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b8fe18068ca11c37d7efc9f4ae0794d inherit pub_methods_class_algorithm"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b8fe18068ca11c37d7efc9f4ae0794d"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#a6b8fe18068ca11c37d7efc9f4ae0794d">~Algorithm</a> ()</td></tr>
<tr class="memdesc:a6b8fe18068ca11c37d7efc9f4ae0794d inherit pub_methods_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a6b8fe18068ca11c37d7efc9f4ae0794d inherit pub_methods_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e70f6467e7d543d5c5ff5d75a2c7317 inherit pub_methods_class_algorithm"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#a2e70f6467e7d543d5c5ff5d75a2c7317">populateSubAlgorithms</a> (<a class="el" href="classconfiguration_1_1_configuration_manager.html">configuration::ConfigurationManager</a> &amp;settings, std::string algorithmName, <a class="el" href="class_algorithm_factory.html">AlgorithmFactory</a> &amp;algorithmFactory)</td></tr>
<tr class="memdesc:a2e70f6467e7d543d5c5ff5d75a2c7317 inherit pub_methods_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds sub algorithms from settings, then calls this function for every sub algorithm.  <a href="#a2e70f6467e7d543d5c5ff5d75a2c7317">More...</a><br/></td></tr>
<tr class="separator:a2e70f6467e7d543d5c5ff5d75a2c7317 inherit pub_methods_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53e368265acb0d465109ba1aed91b16 inherit pub_methods_class_algorithm"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad53e368265acb0d465109ba1aed91b16"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#ad53e368265acb0d465109ba1aed91b16">clearAlgorithms</a> ()</td></tr>
<tr class="memdesc:ad53e368265acb0d465109ba1aed91b16 inherit pub_methods_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all sub algorithms. <br/></td></tr>
<tr class="separator:ad53e368265acb0d465109ba1aed91b16 inherit pub_methods_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_algorithm"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_algorithm')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_algorithm.html">Algorithm</a></td></tr>
<tr class="memitem:af26b7f5c3bf7b4684067e7016a6500ad inherit pro_attribs_class_algorithm"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#af26b7f5c3bf7b4684067e7016a6500ad">isInitialized</a></td></tr>
<tr class="memdesc:af26b7f5c3bf7b4684067e7016a6500ad inherit pro_attribs_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is true if the algorithm is initialized.  <a href="#af26b7f5c3bf7b4684067e7016a6500ad">More...</a><br/></td></tr>
<tr class="separator:af26b7f5c3bf7b4684067e7016a6500ad inherit pro_attribs_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cc7dae1aeea1f3d2c6cfee8d6cc166 inherit pro_attribs_class_algorithm"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_algorithm.html">Algorithm</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#a51cc7dae1aeea1f3d2c6cfee8d6cc166">algorithms</a></td></tr>
<tr class="memdesc:a51cc7dae1aeea1f3d2c6cfee8d6cc166 inherit pro_attribs_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector of sub algorithms.  <a href="#a51cc7dae1aeea1f3d2c6cfee8d6cc166">More...</a><br/></td></tr>
<tr class="separator:a51cc7dae1aeea1f3d2c6cfee8d6cc166 inherit pro_attribs_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0cf65df779137adfdf6b5e1e8f6df09 inherit pro_attribs_class_algorithm"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0cf65df779137adfdf6b5e1e8f6df09"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_algorithm.html#ac0cf65df779137adfdf6b5e1e8f6df09">algorithmTag</a></td></tr>
<tr class="memdesc:ac0cf65df779137adfdf6b5e1e8f6df09 inherit pro_attribs_class_algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector of sub algorithms names, mapped in order to algorithms. <br/></td></tr>
<tr class="separator:ac0cf65df779137adfdf6b5e1e8f6df09 inherit pro_attribs_class_algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Process step which uses information about visible persons' position and velocity and determines if a que is present or not. </p>
<p>A cubic bezier spline is fit to every pair of visible object/persons (one spline per direction) for each camera. The objects are used as the two on-curve control points and the objects' velocities are used to calculate the two off-curve control points. Objects that are connected by a sufficiently short spline are considered to be in the same queue. If any queues are found, this is indicated in the camera object for which the queue is visible. The class is written such that it would be easy to extend it so to be able to do more advanced analysis of the queue structures. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9bd4dbb5db6f007420db1c838324e35a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool statistics::QueDetector::initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classconfiguration_1_1_configuration_manager.html">configuration::ConfigurationManager</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles initialization. </p>
<p>Configurable algorithm parameters are:</p>
<ul>
<li>maxSplineSegmentLength: Spline subdivision stops when the longest segment in the spline drops below this length (in pixels).</li>
<li>velocityScaleFactor: The scale factor applied to the velocity vectors when creating a spline. (To account for spline parametrization)</li>
<li>splineLengthThreshold: Pairs of objects connected by a spline longer than this are not considered part of the same queue.</li>
<li>maxRecursionDepth: Spline subdivisions are stopped at this depth of recursions.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>A <a class="el" href="classconfiguration_1_1_configuration_manager.html" title="Manages application settings. ">configuration::ConfigurationManager</a> object that potentially includes values for the algorithm's constants. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns false if the initialization fails, e.g. if a required variable is not set in the config file. </dd></dl>

<p>Reimplemented from <a class="el" href="class_algorithm.html#a025c2415abe4c2bed8607f06026a04ca">Algorithm</a>.</p>

</div>
</div>
<a class="anchor" id="abd712a54dd3eac7b699fd7a0448f4093"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void statistics::QueDetector::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_frame_list.html">FrameList</a> &amp;&#160;</td>
          <td class="paramname"><em>frames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frames</td><td>A <a class="el" href="class_frame_list.html" title="A container of cronoligicaly ordered Frames. ">FrameList</a> object containing the current and some of the previos frames. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_algorithm.html#ab32e7410109c7217c6f11fbb38cfb5a8">Algorithm</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Analytics/<a class="el" href="_que_detector_8hpp_source.html">QueDetector.hpp</a></li>
<li>src/Analytics/QueDetector.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 13 2013 22:31:48 for Kitchen Occupation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
