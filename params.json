{"name":"Kitchen Occupation","tagline":"We can see you...","body":"Project Kitchen Occupation \r\n==========================\r\n\r\nThis project is part of the course TSBB11: Images and Graphics, Project Course CDIO at Linköping University 2013. The goal of this project is to produce a system that, using computer vision, can monitor the occupancy of student kitchens at Linköping University.\r\n\r\n***\r\n\r\nOur project [wiki](https://github.com/GroupDenseKitchen/project/wiki) contains some information about how we develop. \r\n\r\n***\r\n##Overview of system\r\nThe system recieve video feeds or files (one for each camera) and estimates the number of people in one or several rooms.\r\nThis is archieved by sending the video frames one at a time through a image processing and analytics pipeline, with each algorithm in the pipeline building on the results of the previous.\r\nIt is configurable and debuggable via a GUI which increment the pipeline, apart from this the GUI is not at all required for the execution of the system.\r\nConfigurations are read from file aswell.\r\n\r\n### DenseKitchen\r\nThis is the core class for the person density estimation. It is owned and run byt the debug gui. It is resposible for administring and syncronizing the processing pipeline, and passing around the process data. \r\n\r\n### Frame\r\nThe Frame class is the main data container for any data needed by the processing pipeline. Each object is responsible for data pertaining to one time step.\r\n\r\n### Network\r\nThe Network module is responsible for reading images the involved cameras and comunicating with external systems.\r\n\r\n### ImageProcessor\r\nThe ImageProcessor class is derived from Algorithm and is responsible for the image processing part of the pipeline. It holds an ordered collection of the objects responsible for each image processing step (also derived from Algorithm).\r\n\r\n### Statistics\r\nThe statistics class has the same structure as the ImageProcessor but is responsible for aggregation and analysis of the output from the image processing part of the pipeline.\r\n\r\n### Evaluator\r\nThe Evaluator evaluates the whole system by looking at the MOTA and MOTP metrics of tracking performance.\r\n\r\n![Overview](https://doc-0s-8o-docs.googleusercontent.com/docs/securesc/5btq9f7huc8bqtncm8qh0s5eefd7hgmg/eoaigplsae5m486ulbr76qr2ok2d7b6h/1383652800000/06151035857182574422/06151035857182574422/0B53Hlj6c__71RjhrMzktdG1aWm8?h=12494863305412751534&e=view)\r\n\r\n***\r\n## Algorithm pipeline architecture\r\nAlgorithm is a base class that can own other algorithms. \r\nWhen Algorithm::initialize and Algorithm::process is called all its sub-Algorithms are called in order as well.\r\n\r\n### Adding a new sub-Algorithm\r\nAlgorithms can be added to other Algorithms using the config file, this however require that a AlgorithmFactory is instanciated and that the desired algorithm to be added is added to the factory first.\r\nThis can look like the following in the config file:\r\n```yml\r\nImageProcessor:\r\n   - BackgroundModelAlgorithm\r\n   - ForegroundSegmentationAlgorithm\r\n   - TrackingAlgorithm\r\n```\r\nwhere ImageProcessor is an Algorithm as well as the three listed under it which are to be added in that order to ImageProcessor. is called all its algorithms are called in order as well.\r\n\r\nThis requires the Algorithm to be registered in a AlgorithmFactory, a one liner:\r\n```c++\r\nalgorithmFactory.add(\"BackgroundModelAlgorithm\", new BackgroundModelAlgorithm()); \r\n...\r\n```\r\n### Setting up algorithms to register sub-Algorithms\r\nThe required code to register, add and initialize BackgroundModelALgorithm to ImageProcessor is as follows.\r\n\r\nFirst we add the BackgroundModelAlgorithm algorithm to the algorithmFactory. The first argument is the string used to address that specific Algorithm in the config file.\r\n```c++\r\nalgorithmFactory.add(\"BackgroundModelAlgorithm\", new BackgroundModelAlgorithm()); \r\n...\r\n```\r\nSecond we populate ImageProcessor using the config file (add all Algorithms in order as stated in the config file). The ConfigurationManager instanciation is here called settings.\r\n```c++\r\nimageProcessor.populateSubAlgorithms(settings, \"ImageProcessor\", algorithmFactory);\r\n```\r\nLastly we initialize ImageProcessor (and by doing so we also initialize BackgroundModelAlgorithm et.al.)\r\n```c++\r\nimageProcessor.initialize(settings);\r\n```\r\nBoth ImageProcessor::populate and ImageProcessor::initialize return false if something is not as it should, they also log the problem.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}